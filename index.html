
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Cosmin vs Dasha - PIXI Edition</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      background: black;
      touch-action: manipulation;
    }
    #hud {
      position: fixed;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      color: #fff;
      font-family: 'Courier New', monospace;
      font-size: 24px;
      padding: 10px 20px;
      border: 2px solid #ff00cc;
      border-radius: 12px;
      background: rgba(0, 0, 0, 0.7);
      z-index: 999;
      text-align: center;
      box-shadow: 0 0 10px #ff00cc;
    }
  </style>
</head>
<body>
  <div id="hud">Cosmin Score on Dasha: 0</div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/8.0.2/pixi.min.js"></script>
  <script>
    const app = new PIXI.Application({ width: window.innerWidth, height: window.innerHeight, backgroundColor: 0x000000 });
    document.body.appendChild(app.view);

    const cosmin = new PIXI.Text("==3", { fontFamily: "monospace", fontSize: 36, fill: "lime" });
    cosmin.x = 100;
    cosmin.y = app.screen.height / 2;
    app.stage.addChild(cosmin);

    const dashas = [];
    const hearts = [];
    const particles = [];

    let score = 0;
    const hud = document.getElementById("hud");

    function spawnDasha() {
      const dasha = new PIXI.Text("(')", { fontFamily: "monospace", fontSize: 36, fill: "hotpink" });
      dasha.x = app.screen.width + 100;
      dasha.y = Math.random() * (app.screen.height - 40);
      dasha.vx = -3;
      dasha.hit = false;
      app.stage.addChild(dasha);
      dashas.push(dasha);
    }

    function spawnHeart(x, y) {
      const heart = new PIXI.Text("(♥)", { fontFamily: "monospace", fontSize: 36, fill: "red" });
      heart.x = x;
      heart.y = y;
      heart.vy = -2;
      hearts.push(heart);
      app.stage.addChild(heart);
    }

    function spawnParticles(x, y) {
      for (let i = 0; i < 6; i++) {
        const p = new PIXI.Text("♥", { fontFamily: "monospace", fontSize: 20, fill: "red" });
        p.x = x;
        p.y = y;
        p.vx = (Math.random() - 0.5) * 6;
        p.vy = (Math.random() - 1.5) * 6;
        p.life = 30;
        app.stage.addChild(p);
        particles.push(p);
      }
    }

    app.ticker.add(() => {
      // Move Dashas
      for (let dasha of dashas) {
        if (!dasha.hit) {
          dasha.x += dasha.vx;

          if (
            dasha.x < cosmin.x + cosmin.width &&
            dasha.x + dasha.width > cosmin.x &&
            Math.abs(dasha.y - cosmin.y) < 30
          ) {
            dasha.hit = true;
            dasha.visible = false;
            spawnHeart(dasha.x, dasha.y);
            spawnParticles(dasha.x, dasha.y);
            score++;
            hud.textContent = "Cosmin Score on Dasha: " + score;
          }
        }
      }

      // Animate hearts
      for (let heart of hearts) {
        heart.y += heart.vy;
        heart.alpha -= 0.02;
        if (heart.alpha <= 0) {
          app.stage.removeChild(heart);
        }
      }
      hearts = hearts.filter(h => h.alpha > 0);

      // Animate particles
      for (let p of particles) {
        p.x += p.vx;
        p.y += p.vy;
        p.vy += 0.2;
        p.life--;
        if (p.life <= 0) {
          app.stage.removeChild(p);
        }
      }
      particles = particles.filter(p => p.life > 0);
    });

    // Input control
    function moveCosmin(y) {
      cosmin.y = y - 20;
    }

    app.view.addEventListener("pointerdown", (e) => {
      moveCosmin(e.clientY);
    });

    setInterval(spawnDasha, 800);
  </script>
</body>
</html>
